{"remainingRequest":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\faxianbei\\faxianbei7.5\\src\\components\\Geo2.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\faxianbei\\faxianbei7.5\\src\\components\\Geo2.vue","mtime":1615038572604},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIC8vIHByb3BzOiBbImdlbyJdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtYXJrZXJzX2RhdGE6IHt9LA0KICAgICAgLy9jZW50ZXIsIHpvb20sIG1hcFN0eWxlLCB3aW5kb3dzLCB3aW5kb3csIG1hcmtlciwgbWFya2Vyc+aYr2FtYXDlm7rlrprnmoTlj4LmlbDvvIzkuI3og73pmo/mhI/kv67mlLnlkI3lrZcNCiAgICAgIGNlbnRlcjogWzExMy41Nzc5NDY5LCAyMy4yMTA4NDE5Nl0sIC8v5Zyw5Zu+5Lit5b+D54K55Z2Q5qCHDQogICAgICB6b29tOiAzLCAvL+WIneWni+WMluWcsOWbvuaYvuekuuWxgue6pw0KICAgICAgbWFwU3R5bGU6ICJub3JtYWwiLCAvL+iuvue9ruWcsOWbvuagt+W8jywg6L+Y5pyJZGFya+etieaooeW8jw0KICAgICAgd2luZG93czogW10sIC8v5omA5pyJ5L+h5oGv56qX5L2T55qE5pWw57uEDQogICAgICB3aW5kb3c6ICIiLCAvL+S4gOS4quS/oeaBr+eql+S9kw0KICAgICAgbWFya2VyczogW10sIC8v5omA5pyJ5Zyw54K55qCH5b+X55qE5pWw57uEDQogICAgICBnZW86IHt9LA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBwb2ludCgpIHsNCiAgICAgIA0KICAgICAgbGV0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KCJodHRwOi8vMTIxLjQ2LjE5LjI2Ojg1MTEvZ2V0Q29tcGV0LzQ0MDEwODQwMDAwMzkzOSIpOw0KICAgICAgdGhpcy5nZW8gPSBkYXRhLmNvbXBldF9nZW9MaXN0Ow0KICAgICAgLy8gdGhpcy5tYXJrZXJzX2RhdGEgPSBkYXRhLmdlbzsNCiAgICAgIC8vIHRoaXMuZ2VvPXRoaXMubWFya2Vyc19kYXRhOw0KICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5nZW8ubG5nKQ0KICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7DQoNCiAgICAgIGxldCB3aW5kb3dzID0gW107DQogICAgICBsZXQgbWFya2VycyA9IFtdOw0KICAgICAgbGV0IHRoYXQgPSB0aGlzOw0KICAgICAgLy/lsIbojrflj5bliLDnmoRyYXcgZGF0Yeino+aekOS4umFtYXDlj6/ku6Xor7vlj5bnmoRmb3JtYXQNCiAgICAgIC8vcG9zaXRpb24sIGV2ZW50c+etiemDveaYr2FtYXDlm7rlrprnmoTvvIzkuI3og73mk4Xoh6rkv67mlLkNCg0KICAgICAgdGhpcy5nZW8uZm9yRWFjaCgoaXRlbSwgaSkgPT4gew0KDQogICAgICBtYXJrZXJzLnB1c2goew0KICAgICAgICBwb3NpdGlvbjogW3RoaXMuZ2VvW2ldLmxuZywgdGhpcy5nZW9baV0ubGF0XSwNCiAgICAgICAgZXZlbnRzOiB7DQogICAgICAgICAgY2xpY2soKSB7DQogICAgICAgICAgICB0aGF0LndpbmRvd3MuZm9yRWFjaCgod2luZG93KSA9PiB7DQogICAgICAgICAgICAgIHdpbmRvdy52aXNpYmxlID0gZmFsc2U7IC8v5YWz6Zet56qX5L2TDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoYXQud2luZG93ID0gdGhhdC53aW5kb3dzW2ldOw0KICAgICAgICAgICAgdGhhdC4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICB0aGF0LndpbmRvdy52aXNpYmxlID0gdHJ1ZTsgLy/ngrnlh7vngrnlnZDmoIfvvIzlh7rnjrDkv6Hmga/nqpfkvZMNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICB9KTsNCiAgICAgIHdpbmRvd3MucHVzaCh7DQogICAgICAgIHBvc2l0aW9uOiBbdGhpcy5nZW9baV0ubG5nLCB0aGlzLmdlb1tpXS5sYXRdLA0KICAgICAgICBjb250ZW50Og0KICAgICAgICAgICI8ZGl2PiIgKyB0aGlzLmdlb1tpXS5wcm9qX25hbWUgKyI8YnI+IisgdGhpcy5nZW9baV0uY29tcGFueV9uYW1lKyAiPC9kaXY+IiwgLy/lhoXlrrkNCiAgICAgICAgb2Zmc2V0OiBbMCwgLTQwXSwgLy/nqpfkvZPlgY/np7sNCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwgLy/liJ3lp4vmmK/lkKbmmL7npLoNCiAgICAgIH0pOw0KICAgICAgLy8gfSk7DQogICAgICAvLyAg5Yqg5L2N572u54K5DQogICAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzOw0KICAgICAgLy8gICDliqDlvLnnqpcNCiAgICAgIHRoaXMud2luZG93cyA9IHdpbmRvd3M7DQogICAgfSkNCg0KICAgDQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnBvaW50KCk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["Geo2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA","file":"Geo2.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"amap-wrapper\">\r\n      <el-amap\r\n        class=\"amap-box\"\r\n        :zoom=\"zoom\"\r\n        :center=\"center\"\r\n        :mapStyle=\"mapStyle\"\r\n      >\r\n        <el-amap-marker\r\n          v-for=\"(marker, index) in markers\"\r\n          :position=\"marker.position\"\r\n          :key=\"index\"\r\n          :events=\"marker.events\"\r\n        ></el-amap-marker>\r\n        <el-amap-info-window\r\n          v-if=\"window\"\r\n          :position=\"window.position\"\r\n          :visible=\"window.visible\"\r\n          :content=\"window.content\"\r\n          :offset=\"window.offset\"\r\n        ></el-amap-info-window>\r\n      </el-amap>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  // props: [\"geo\"],\r\n  data() {\r\n    return {\r\n      markers_data: {},\r\n      //center, zoom, mapStyle, windows, window, marker, markers是amap固定的参数，不能随意修改名字\r\n      center: [113.5779469, 23.21084196], //地图中心点坐标\r\n      zoom: 3, //初始化地图显示层级\r\n      mapStyle: \"normal\", //设置地图样式, 还有dark等模式\r\n      windows: [], //所有信息窗体的数组\r\n      window: \"\", //一个信息窗体\r\n      markers: [], //所有地点标志的数组\r\n      geo: {},\r\n    };\r\n  },\r\n  methods: {\r\n    async point() {\r\n      \r\n      let { data } = await axios.get(\"http://121.46.19.26:8511/getCompet/440108400003939\");\r\n      this.geo = data.compet_geoList;\r\n      // this.markers_data = data.geo;\r\n      // this.geo=this.markers_data;\r\n      // console.log(data.geo.lng)\r\n      // console.log(data);\r\n\r\n      let windows = [];\r\n      let markers = [];\r\n      let that = this;\r\n      //将获取到的raw data解析为amap可以读取的format\r\n      //position, events等都是amap固定的，不能擅自修改\r\n\r\n      this.geo.forEach((item, i) => {\r\n\r\n      markers.push({\r\n        position: [this.geo[i].lng, this.geo[i].lat],\r\n        events: {\r\n          click() {\r\n            that.windows.forEach((window) => {\r\n              window.visible = false; //关闭窗体\r\n            });\r\n            that.window = that.windows[i];\r\n            that.$nextTick(() => {\r\n              that.window.visible = true; //点击点坐标，出现信息窗体\r\n            });\r\n          },\r\n        },\r\n      });\r\n      windows.push({\r\n        position: [this.geo[i].lng, this.geo[i].lat],\r\n        content:\r\n          \"<div>\" + this.geo[i].proj_name +\"<br>\"+ this.geo[i].company_name+ \"</div>\", //内容\r\n        offset: [0, -40], //窗体偏移\r\n        visible: true, //初始是否显示\r\n      });\r\n      // });\r\n      //  加位置点\r\n      this.markers = markers;\r\n      //   加弹窗\r\n      this.windows = windows;\r\n    })\r\n\r\n   \r\n    },\r\n  },\r\n  mounted() {\r\n    this.point();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.amap-wrapper {\r\n  width: 80%;\r\n  height: 400px;\r\n  margin: 0 auto;\r\n  margin-bottom: 30px;\r\n}\r\n.amap-wrapper {\r\n  box-shadow: 10px 10px 10px rgba(0,0,0,.5)\r\n}\r\n\r\n</style>"]}]}