{"remainingRequest":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\faxianbei\\faxianbei7.5\\src\\components\\Geo2.vue?vue&type=style&index=0&id=40d79eb1&scoped=true&lang=css&","dependencies":[{"path":"E:\\faxianbei\\faxianbei7.5\\src\\components\\Geo2.vue","mtime":1615038572604},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5hbWFwLXdyYXBwZXIgew0KICB3aWR0aDogODAlOw0KICBoZWlnaHQ6IDQwMHB4Ow0KICBtYXJnaW46IDAgYXV0bzsNCiAgbWFyZ2luLWJvdHRvbTogMzBweDsNCn0NCi5hbWFwLXdyYXBwZXIgew0KICBib3gtc2hhZG93OiAxMHB4IDEwcHggMTBweCByZ2JhKDAsMCwwLC41KQ0KfQ0KDQo="},{"version":3,"sources":["Geo2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Geo2.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"amap-wrapper\">\r\n      <el-amap\r\n        class=\"amap-box\"\r\n        :zoom=\"zoom\"\r\n        :center=\"center\"\r\n        :mapStyle=\"mapStyle\"\r\n      >\r\n        <el-amap-marker\r\n          v-for=\"(marker, index) in markers\"\r\n          :position=\"marker.position\"\r\n          :key=\"index\"\r\n          :events=\"marker.events\"\r\n        ></el-amap-marker>\r\n        <el-amap-info-window\r\n          v-if=\"window\"\r\n          :position=\"window.position\"\r\n          :visible=\"window.visible\"\r\n          :content=\"window.content\"\r\n          :offset=\"window.offset\"\r\n        ></el-amap-info-window>\r\n      </el-amap>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  // props: [\"geo\"],\r\n  data() {\r\n    return {\r\n      markers_data: {},\r\n      //center, zoom, mapStyle, windows, window, marker, markers是amap固定的参数，不能随意修改名字\r\n      center: [113.5779469, 23.21084196], //地图中心点坐标\r\n      zoom: 3, //初始化地图显示层级\r\n      mapStyle: \"normal\", //设置地图样式, 还有dark等模式\r\n      windows: [], //所有信息窗体的数组\r\n      window: \"\", //一个信息窗体\r\n      markers: [], //所有地点标志的数组\r\n      geo: {},\r\n    };\r\n  },\r\n  methods: {\r\n    async point() {\r\n      \r\n      let { data } = await axios.get(\"http://121.46.19.26:8511/getCompet/440108400003939\");\r\n      this.geo = data.compet_geoList;\r\n      // this.markers_data = data.geo;\r\n      // this.geo=this.markers_data;\r\n      // console.log(data.geo.lng)\r\n      // console.log(data);\r\n\r\n      let windows = [];\r\n      let markers = [];\r\n      let that = this;\r\n      //将获取到的raw data解析为amap可以读取的format\r\n      //position, events等都是amap固定的，不能擅自修改\r\n\r\n      this.geo.forEach((item, i) => {\r\n\r\n      markers.push({\r\n        position: [this.geo[i].lng, this.geo[i].lat],\r\n        events: {\r\n          click() {\r\n            that.windows.forEach((window) => {\r\n              window.visible = false; //关闭窗体\r\n            });\r\n            that.window = that.windows[i];\r\n            that.$nextTick(() => {\r\n              that.window.visible = true; //点击点坐标，出现信息窗体\r\n            });\r\n          },\r\n        },\r\n      });\r\n      windows.push({\r\n        position: [this.geo[i].lng, this.geo[i].lat],\r\n        content:\r\n          \"<div>\" + this.geo[i].proj_name +\"<br>\"+ this.geo[i].company_name+ \"</div>\", //内容\r\n        offset: [0, -40], //窗体偏移\r\n        visible: true, //初始是否显示\r\n      });\r\n      // });\r\n      //  加位置点\r\n      this.markers = markers;\r\n      //   加弹窗\r\n      this.windows = windows;\r\n    })\r\n\r\n   \r\n    },\r\n  },\r\n  mounted() {\r\n    this.point();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.amap-wrapper {\r\n  width: 80%;\r\n  height: 400px;\r\n  margin: 0 auto;\r\n  margin-bottom: 30px;\r\n}\r\n.amap-wrapper {\r\n  box-shadow: 10px 10px 10px rgba(0,0,0,.5)\r\n}\r\n\r\n</style>"]}]}