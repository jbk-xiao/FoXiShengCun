{"remainingRequest":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\faxianbei\\faxianbei7.5\\src\\views\\TraceabilityInfoEntry.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\faxianbei\\faxianbei7.5\\src\\views\\TraceabilityInfoEntry.vue","mtime":1615209870263},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHFzIGZyb20gJ3FzJwoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIEhlYWRlcjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZScpLAogICAgICAgIEZvb3RlcjogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvRm9vdGVyLnZ1ZScpLAogICAgICAgIFRvVG9wOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9Ub1RvcC52dWUnKSwKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgICAgcXJDb2RlVXJsOicnLAogICAgICAgICAgICBydWxlRm9ybTogewogICAgICAgICAgICAgICAgc2lkOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgZm9vZFR5cGU6ICcnLAogICAgICAgICAgICAgICAgY29tOiAnJywKICAgICAgICAgICAgICAgIHByb2Nlc3NDb3VudDogJycsCiAgICAgICAgICAgICAgICBtYXN0ZXI6ICcnLAogICAgICAgICAgICAgICAgbG9jYXRpb246ICcnCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgcHJvY2Vzc0NvdW50OiBbewogICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpea1geeoi+aAu+aVsCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBtaW46IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5rWB56iL5oC75pWw5Li65q2jJywKICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIG5hbWU6IFt7CiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWQjeensCcsCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgIG1hc3RlcjogW3sKICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6LSf6LSj5Lq6JywKICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICAgbG9jYXRpb246IFt7CiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWfjuW4gicsCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBsb2FkaW5nKCkgewogICAgICAgICAgICB0aGlzLnJ1bGVGb3JtLmNvbSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jaWQ7CiAgICAgICAgICAgIHRoaXMudmFsdWU9IHRoaXMuJHJvdXRlLnBhcmFtcy5mdDsKICAgICAgICAgICAgdGhpcy5ydWxlRm9ybS5mb29kVHlwZSA9IHRoaXMudmFsdWUKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5ydWxlRm9ybSkKICAgICAgICAgICAgY29uc3QgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgIGN1c3RvbUNsYXNzOiAnY3JlYXRlLWlzTG9hZGluZycsCiAgICAgICAgICAgICAgICB0ZXh0OiAnTG9hZGluZycsCiAgICAgICAgICAgICAgICBzcGlubmVyOiAnZWwtaWNvbi1sb2FkaW5nJywKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNyknCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSwKICAgICAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgICAgICAgIC8vIGZvb2RUeXBlPeayuei+o+akkumFsS0yNzVnLei+o+akkumFsSZjb209NTIwMTAyMDAwNDAwNzkzJnByb2Nlc3NDb3VudD00Jm5hbWU96I+c57G95rK55Lqn5ZywJm1hc3Rlcj3lvKDkuIkmbG9jYXRpb2496YG15LmJCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvcm1OYW1lKQogICAgICAgICAgICAvLyB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgLy8gICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICBheGlvcy5yZXF1ZXN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovLzEyMS40Ni4xOS4yNjo4NTExL2FkZEZpcnN0UHJvY2Vzcy8nLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgZm9vZFR5cGU6IGZvcm1OYW1lLmZvb2RUeXBlLAogICAgICAgICAgICAgICAgICAgIGNvbTogZm9ybU5hbWUuY29tLAogICAgICAgICAgICAgICAgICAgIHByb2Nlc3NDb3VudDogZm9ybU5hbWUucHJvY2Vzc0NvdW50LAogICAgICAgICAgICAgICAgICAgIG5hbWU6IGZvcm1OYW1lLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgbWFzdGVyOiBmb3JtTmFtZS5tYXN0ZXIsCiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGZvcm1OYW1lLmxvY2F0aW9uCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcGFyYW1zU2VyaWFsaXplcjogZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcmFtcykKICAgICAgICAgICAgICAgICAgICAvLyBhcnJheUZvcm1hdOWPr+S7peagvOW8j+WMluaVsOe7hOWPguaVsAogICAgICAgICAgICAgICAgICAgIHJldHVybiBxcy5zdHJpbmdpZnkocGFyYW1zLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5Rm9ybWF0OiAnYnJhY2tldHMnCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5xckNvZGVVcmw9cmVzLmRhdGEucXJDb2RlCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnFyQ29kZVVybCk7CgogICAgICAgICAgICB9KQogICAgICAgICAgICAvLyAgICAgYWxlcnQoJ+S/oeaBr+W9leWFpeaIkOWKnyEnKTsKICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm1OYW1lJykKICAgICAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgICAgLy8gICAgIGFsZXJ0KCfkv6Hmga/lvZXlhaXlpLHotKUhIScpOwogICAgICAgICAgICAvLyAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIC8vIH0pOwogICAgICAgIH0sCiAgICAgICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmxvYWRpbmcoKTsKICAgIH0KfQo="},{"version":3,"sources":["TraceabilityInfoEntry.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"TraceabilityInfoEntry.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"page-wrapper\">\r\n            <ToTop></ToTop>\r\n            <Header></Header>\r\n\r\n            <div class=\"entryForm\">\r\n\r\n                <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\"\r\n                    style=\"width: 50%;text-align: center;\">\r\n                    <div class=\"title\">> 溯源信息录入</div>\r\n                    <el-form-item label=\"品类及规格\" prop=\"foodType\">\r\n                        <el-input v-model=\"ruleForm.foodType\" v-text=\"value\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"主公司ID\" prop=\"com\">\r\n                        <el-input v-model=\"ruleForm.com\" v-text=\"ruleForm.com\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"总流程数\" prop=\"processCount\">\r\n                        <el-input v-model=\"ruleForm.processCount\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"流程名称\" prop=\"name\">\r\n                        <el-input type=\"textarea\" v-model=\"ruleForm.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"负责人\" prop=\"master\">\r\n                        <el-input v-model=\"ruleForm.master\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"城市\" prop=\"location\">\r\n                        <el-input v-model=\"ruleForm.location\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item style=\"text-align: right;\">\r\n                        <el-button type=\"primary\" @click=\"submitForm(ruleForm)\">确定</el-button>&nbsp;&nbsp;\r\n                        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n                    </el-form-item>\r\n                    <img :src=\"qrCodeUrl\" alt=\"\">\r\n                </el-form>\r\n            </div>\r\n\r\n            <Footer></Footer>\r\n\r\n        </div><!-- /.page-wrapper -->\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import qs from 'qs'\r\n\r\n    export default {\r\n        components: {\r\n            Header: () => import('@/components/Header.vue'),\r\n            Footer: () => import('@/components/Footer.vue'),\r\n            ToTop: () => import('@/components/ToTop.vue'),\r\n        },\r\n        data() {\r\n            return {\r\n                value: '',\r\n                qrCodeUrl:'',\r\n                ruleForm: {\r\n                    sid: '',\r\n                    name: '',\r\n                    foodType: '',\r\n                    com: '',\r\n                    processCount: '',\r\n                    master: '',\r\n                    location: ''\r\n                },\r\n\r\n                rules: {\r\n                    processCount: [{\r\n                            required: true,\r\n                            message: '请输入流程总数',\r\n                            trigger: 'blur'\r\n                        },\r\n                        {\r\n                            min: 1,\r\n                            max: 100,\r\n                            message: '流程总数为正',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    name: [{\r\n                        required: true,\r\n                        message: '请输入名称',\r\n                        trigger: 'blur'\r\n                    }],\r\n                    master: [{\r\n                        required: true,\r\n                        message: '请输入负责人',\r\n                        trigger: 'blur'\r\n                    }],\r\n                    location: [{\r\n                        required: true,\r\n                        message: '请输入城市',\r\n                        trigger: 'blur'\r\n                    }]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            loading() {\r\n                this.ruleForm.com = this.$route.params.cid;\r\n                this.value= this.$route.params.ft;\r\n                this.ruleForm.foodType = this.value\r\n                console.log(this.ruleForm)\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    customClass: 'create-isLoading',\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                setTimeout(() => {\r\n                    loading.close();\r\n                }, 1000);\r\n            },\r\n            submitForm(formName) {\r\n                // foodType=油辣椒酱-275g-辣椒酱&com=520102000400793&processCount=4&name=菜籽油产地&master=张三&location=遵义\r\n                console.log(formName)\r\n                // this.$refs[formName].validate((valid) => {\r\n                //     if (valid) {\r\n                axios.request({\r\n                    method: 'post',\r\n                    url: 'http://121.46.19.26:8511/addFirstProcess/',\r\n                    params: {\r\n                        foodType: formName.foodType,\r\n                        com: formName.com,\r\n                        processCount: formName.processCount,\r\n                        name: formName.name,\r\n                        master: formName.master,\r\n                        location: formName.location\r\n                    },\r\n                    paramsSerializer: function (params) {\r\n                        console.log(params)\r\n                        // arrayFormat可以格式化数组参数\r\n                        return qs.stringify(params, {\r\n                            arrayFormat: 'brackets'\r\n                        })\r\n                    }\r\n                }).then(res => {\r\n                    this.qrCodeUrl=res.data.qrCode\r\n                    console.log(this.qrCodeUrl);\r\n\r\n                })\r\n                //     alert('信息录入成功!');\r\n                this.resetForm('formName')\r\n                // } else {\r\n                //     alert('信息录入失败!!');\r\n                //     return false;\r\n                // }\r\n                // });\r\n            },\r\n            resetForm(formName) {\r\n                this.$nextTick(() => {\r\n                    this.$refs[formName].resetFields();\r\n                })\r\n            },\r\n\r\n        },\r\n        created() {\r\n            this.loading();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .title {\r\n        width: 200px;\r\n        color: #255946;\r\n        margin-top: 20px;\r\n        margin-bottom: 20px;\r\n        text-align: left;\r\n        font-size: 24px;\r\n        font-weight: 700;\r\n    }\r\n</style>"]}]}