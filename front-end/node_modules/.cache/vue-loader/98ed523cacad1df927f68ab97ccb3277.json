{"remainingRequest":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\faxianbei\\faxianbei7.5\\src\\views\\AddProcess.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\faxianbei\\faxianbei7.5\\src\\views\\AddProcess.vue","mtime":1615211432931},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHFzIGZyb20gJ3FzJwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTonQWRkUHJvY2VzcycsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgSGVhZGVyOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9IZWFkZXIudnVlJyksCiAgICAgICAgRm9vdGVyOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9Gb290ZXIudnVlJyksCiAgICAgICAgVG9Ub3A6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL1RvVG9wLnZ1ZScpLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgICBxckNvZGVVcmw6ICcnLAogICAgICAgICAgICBydWxlRm9ybTogewogICAgICAgICAgICAgICAgc2lkOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgZm9vZFR5cGU6ICcnLAogICAgICAgICAgICAgICAgY29tOiAnJywKICAgICAgICAgICAgICAgIHByb2Nlc3NDb3VudDogJycsCiAgICAgICAgICAgICAgICBtYXN0ZXI6ICcnLAogICAgICAgICAgICAgICAgbG9jYXRpb246ICcnCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgcHJvY2Vzc0NvdW50OiBbewogICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpea1geeoi+aAu+aVsCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBtaW46IDEsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5rWB56iL5oC75pWw5Li65q2jJywKICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIG5hbWU6IFt7CiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWQjeensCcsCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgIG1hc3RlcjogW3sKICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6LSf6LSj5Lq6JywKICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICAgbG9jYXRpb246IFt7CiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWfjuW4gicsCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBsb2FkaW5nKCkgewogICAgICAgICAgICB0aGlzLnJ1bGVGb3JtLnNpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJ1bGVGb3JtKQogICAgICAgICAgICBjb25zdCBsb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgICAgICAgY3VzdG9tQ2xhc3M6ICdjcmVhdGUtaXNMb2FkaW5nJywKICAgICAgICAgICAgICAgIHRleHQ6ICdMb2FkaW5nJywKICAgICAgICAgICAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC43KScKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9LAogICAgICAgIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc3VibWl0Rm9ybTEoZm9ybU5hbWUpIHsKICAgICAgICAgICAgLy9pZD02OTIxODA0NzAwMjIxMjEwMzAxMjIxODE5Jm5hbWU95bel5Y6CICZtYXN0ZXI95p2O5ZubJmxvY2F0aW9uPei0temYswogICAgICAgICAgICB0aGlzLnJ1bGVGb3JtLmZvb2RUeXBlID0gdGhpcy52YWx1ZQogICAgICAgICAgICAvLyB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgLy8gICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICBheGlvcy5yZXF1ZXN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovLzEyMS40Ni4xOS4yNjo4NTExL2FkZEZpcnN0UHJvY2Vzcy8nLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGZvcm1OYW1lLnNpZCwKICAgICAgICAgICAgICAgICAgICBuYW1lOiBmb3JtTmFtZS5uYW1lLAogICAgICAgICAgICAgICAgICAgIG1hc3RlcjogZm9ybU5hbWUubWFzdGVyLAogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBmb3JtTmFtZS5sb2NhdGlvbgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGZ1bmN0aW9uIChwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICAvLyBhcnJheUZvcm1hdOWPr+S7peagvOW8j+WMluaVsOe7hOWPguaVsAogICAgICAgICAgICAgICAgICAgIHJldHVybiBxcy5zdHJpbmdpZnkocGFyYW1zLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5Rm9ybWF0OiAnYnJhY2tldHMnCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy8gYWxlcnQoJ+S/oeaBr+W9leWFpeaIkOWKnyEnKTsKICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oZm9ybU5hbWUpCiAgICAgICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyAgICAgICAgIGFsZXJ0KCfkv6Hmga/lvZXlhaXlpLHotKUhIScpOwogICAgICAgICAgICAvLyAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgfSwKICAgICAgICBzdWJtaXRGb3JtMihmb3JtTmFtZSkgewogICAgICAgICAgICAvLyBpZD02OTIxODA0NzAwMjIxMjEwMzAxMjIxODE5Jm5hbWU954KS5Yi2Jm1hc3Rlcj3mnY7lrZDosKYKICAgICAgICAgICAgdGhpcy5ydWxlRm9ybS5mb29kVHlwZSA9IHRoaXMudmFsdWUKICAgICAgICAgICAgLy8gdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICAgIC8vICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgYXhpb3MucmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly8xMjEuNDYuMTkuMjY6ODUxMS9hZGRGaXJzdFByb2Nlc3MvJywKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIGlkOiBmb3JtTmFtZS5zaWQsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogZm9ybU5hbWUubmFtZSwKICAgICAgICAgICAgICAgICAgICBtYXN0ZXI6IGZvcm1OYW1lLm1hc3RlcgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGZ1bmN0aW9uIChwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICAvLyBhcnJheUZvcm1hdOWPr+S7peagvOW8j+WMluaVsOe7hOWPguaVsAogICAgICAgICAgICAgICAgICAgIHJldHVybiBxcy5zdHJpbmdpZnkocGFyYW1zLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5Rm9ybWF0OiAnYnJhY2tldHMnCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy8gYWxlcnQoJ+S/oeaBr+W9leWFpeaIkOWKnyEnKTsKICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oZm9ybU5hbWUpCiAgICAgICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyAgICAgICAgIGFsZXJ0KCfkv6Hmga/lvZXlhaXlpLHotKUhIScpOwogICAgICAgICAgICAvLyAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgfSwKICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMubG9hZGluZygpOwogICAgfQp9Cg=="},{"version":3,"sources":["AddProcess.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddProcess.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"page-wrapper\">\r\n            <ToTop></ToTop>\r\n            <Header></Header>\r\n\r\n            <div class=\"entryForm\">\r\n\r\n                <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\"\r\n                    style=\"width: 50%;text-align: center;\">\r\n                    <div class=\"title\">> 后续流程录入</div>\r\n                    <el-form-item label=\"溯源码\" prop=\"sid\">\r\n                        <el-input v-model=\"ruleForm.sid\" v-text=\"ruleForm.sid\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"流程名称\" prop=\"name\">\r\n                        <el-input type=\"textarea\" v-model=\"ruleForm.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"负责人\" prop=\"master\">\r\n                        <el-input v-model=\"ruleForm.master\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"城市\" prop=\"location\">\r\n                        <el-input v-model=\"ruleForm.location\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" @click=\"submitForm1(ruleForm)\">确定</el-button>\r\n                        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n\r\n                <!-- <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\"\r\n                    style=\"width: 50%;text-align: center;\">\r\n                    <div class=\"title\">> 工序信息录入</div>\r\n                    <el-form-item label=\"溯源码\" prop=\"sid\">\r\n                        <el-input v-model=\"ruleForm.sid\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"工序名称\" prop=\"name\">\r\n                        <el-input type=\"textarea\" v-model=\"ruleForm.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"负责人\" prop=\"master\">\r\n                        <el-input v-model=\"ruleForm.master\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" @click=\"submitForm2(ruleForm)\">确定</el-button>\r\n                        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n                    </el-form-item>\r\n                </el-form> -->\r\n\r\n            </div>\r\n\r\n            <Footer></Footer>\r\n\r\n        </div><!-- /.page-wrapper -->\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import qs from 'qs'\r\n\r\n    export default {\r\n        name:'AddProcess',\r\n        components: {\r\n            Header: () => import('@/components/Header.vue'),\r\n            Footer: () => import('@/components/Footer.vue'),\r\n            ToTop: () => import('@/components/ToTop.vue'),\r\n        },\r\n        data() {\r\n            return {\r\n                value: '',\r\n                qrCodeUrl: '',\r\n                ruleForm: {\r\n                    sid: '',\r\n                    name: '',\r\n                    foodType: '',\r\n                    com: '',\r\n                    processCount: '',\r\n                    master: '',\r\n                    location: ''\r\n                },\r\n\r\n                rules: {\r\n                    processCount: [{\r\n                            required: true,\r\n                            message: '请输入流程总数',\r\n                            trigger: 'blur'\r\n                        },\r\n                        {\r\n                            min: 1,\r\n                            max: 100,\r\n                            message: '流程总数为正',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    name: [{\r\n                        required: true,\r\n                        message: '请输入名称',\r\n                        trigger: 'blur'\r\n                    }],\r\n                    master: [{\r\n                        required: true,\r\n                        message: '请输入负责人',\r\n                        trigger: 'blur'\r\n                    }],\r\n                    location: [{\r\n                        required: true,\r\n                        message: '请输入城市',\r\n                        trigger: 'blur'\r\n                    }]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            loading() {\r\n                this.ruleForm.sid = this.$route.params.id\r\n                console.log(this.ruleForm)\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    customClass: 'create-isLoading',\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                setTimeout(() => {\r\n                    loading.close();\r\n                }, 1000);\r\n            },\r\n            resetForm(formName) {\r\n                this.$nextTick(() => {\r\n                    this.$refs[formName].resetFields();\r\n                })\r\n            },\r\n            submitForm1(formName) {\r\n                //id=6921804700221210301221819&name=工厂 &master=李四&location=贵阳\r\n                this.ruleForm.foodType = this.value\r\n                // this.$refs[formName].validate((valid) => {\r\n                //     if (valid) {\r\n                axios.request({\r\n                    method: 'post',\r\n                    url: 'http://121.46.19.26:8511/addFirstProcess/',\r\n                    params: {\r\n                        id: formName.sid,\r\n                        name: formName.name,\r\n                        master: formName.master,\r\n                        location: formName.location\r\n                    },\r\n                    paramsSerializer: function (params) {\r\n                        // arrayFormat可以格式化数组参数\r\n                        return qs.stringify(params, {\r\n                            arrayFormat: 'brackets'\r\n                        })\r\n                    }\r\n                })\r\n                // alert('信息录入成功!');\r\n                this.resetForm(formName)\r\n                //     } else {\r\n                //         alert('信息录入失败!!');\r\n                //         return false;\r\n                //     }\r\n                // });\r\n            },\r\n            submitForm2(formName) {\r\n                // id=6921804700221210301221819&name=炒制&master=李子谦\r\n                this.ruleForm.foodType = this.value\r\n                // this.$refs[formName].validate((valid) => {\r\n                //     if (valid) {\r\n                axios.request({\r\n                    method: 'post',\r\n                    url: 'http://121.46.19.26:8511/addFirstProcess/',\r\n                    params: {\r\n                        id: formName.sid,\r\n                        name: formName.name,\r\n                        master: formName.master\r\n                    },\r\n                    paramsSerializer: function (params) {\r\n                        // arrayFormat可以格式化数组参数\r\n                        return qs.stringify(params, {\r\n                            arrayFormat: 'brackets'\r\n                        })\r\n                    }\r\n                })\r\n                // alert('信息录入成功!');\r\n                this.resetForm(formName)\r\n                //     } else {\r\n                //         alert('信息录入失败!!');\r\n                //         return false;\r\n                //     }\r\n                // });\r\n            },\r\n        },\r\n        created() {\r\n            this.loading();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .title {\r\n        width: 200px;\r\n        color: #255946;\r\n        margin-top: 20px;\r\n        margin-bottom: 20px;\r\n        text-align: left;\r\n        font-size: 24px;\r\n        font-weight: 700;\r\n    }\r\n</style>"]}]}