{"remainingRequest":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\faxianbei\\faxianbei7.5\\src\\views\\TraceabilityInfoEntry.vue?vue&type=style&index=0&id=13deb455&scoped=true&lang=css&","dependencies":[{"path":"E:\\faxianbei\\faxianbei7.5\\src\\views\\TraceabilityInfoEntry.vue","mtime":1615209870263},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\faxianbei\\faxianbei7.5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50aXRsZSB7CiAgICB3aWR0aDogMjAwcHg7CiAgICBjb2xvcjogIzI1NTk0NjsKICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIGZvbnQtc2l6ZTogMjRweDsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7Cn0K"},{"version":3,"sources":["TraceabilityInfoEntry.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TraceabilityInfoEntry.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"page-wrapper\">\r\n            <ToTop></ToTop>\r\n            <Header></Header>\r\n\r\n            <div class=\"entryForm\">\r\n\r\n                <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\"\r\n                    style=\"width: 50%;text-align: center;\">\r\n                    <div class=\"title\">> 溯源信息录入</div>\r\n                    <el-form-item label=\"品类及规格\" prop=\"foodType\">\r\n                        <el-input v-model=\"ruleForm.foodType\" v-text=\"value\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"主公司ID\" prop=\"com\">\r\n                        <el-input v-model=\"ruleForm.com\" v-text=\"ruleForm.com\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"总流程数\" prop=\"processCount\">\r\n                        <el-input v-model=\"ruleForm.processCount\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"流程名称\" prop=\"name\">\r\n                        <el-input type=\"textarea\" v-model=\"ruleForm.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"负责人\" prop=\"master\">\r\n                        <el-input v-model=\"ruleForm.master\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"城市\" prop=\"location\">\r\n                        <el-input v-model=\"ruleForm.location\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item style=\"text-align: right;\">\r\n                        <el-button type=\"primary\" @click=\"submitForm(ruleForm)\">确定</el-button>&nbsp;&nbsp;\r\n                        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n                    </el-form-item>\r\n                    <img :src=\"qrCodeUrl\" alt=\"\">\r\n                </el-form>\r\n            </div>\r\n\r\n            <Footer></Footer>\r\n\r\n        </div><!-- /.page-wrapper -->\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import qs from 'qs'\r\n\r\n    export default {\r\n        components: {\r\n            Header: () => import('@/components/Header.vue'),\r\n            Footer: () => import('@/components/Footer.vue'),\r\n            ToTop: () => import('@/components/ToTop.vue'),\r\n        },\r\n        data() {\r\n            return {\r\n                value: '',\r\n                qrCodeUrl:'',\r\n                ruleForm: {\r\n                    sid: '',\r\n                    name: '',\r\n                    foodType: '',\r\n                    com: '',\r\n                    processCount: '',\r\n                    master: '',\r\n                    location: ''\r\n                },\r\n\r\n                rules: {\r\n                    processCount: [{\r\n                            required: true,\r\n                            message: '请输入流程总数',\r\n                            trigger: 'blur'\r\n                        },\r\n                        {\r\n                            min: 1,\r\n                            max: 100,\r\n                            message: '流程总数为正',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    name: [{\r\n                        required: true,\r\n                        message: '请输入名称',\r\n                        trigger: 'blur'\r\n                    }],\r\n                    master: [{\r\n                        required: true,\r\n                        message: '请输入负责人',\r\n                        trigger: 'blur'\r\n                    }],\r\n                    location: [{\r\n                        required: true,\r\n                        message: '请输入城市',\r\n                        trigger: 'blur'\r\n                    }]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            loading() {\r\n                this.ruleForm.com = this.$route.params.cid;\r\n                this.value= this.$route.params.ft;\r\n                this.ruleForm.foodType = this.value\r\n                console.log(this.ruleForm)\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    customClass: 'create-isLoading',\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                setTimeout(() => {\r\n                    loading.close();\r\n                }, 1000);\r\n            },\r\n            submitForm(formName) {\r\n                // foodType=油辣椒酱-275g-辣椒酱&com=520102000400793&processCount=4&name=菜籽油产地&master=张三&location=遵义\r\n                console.log(formName)\r\n                // this.$refs[formName].validate((valid) => {\r\n                //     if (valid) {\r\n                axios.request({\r\n                    method: 'post',\r\n                    url: 'http://121.46.19.26:8511/addFirstProcess/',\r\n                    params: {\r\n                        foodType: formName.foodType,\r\n                        com: formName.com,\r\n                        processCount: formName.processCount,\r\n                        name: formName.name,\r\n                        master: formName.master,\r\n                        location: formName.location\r\n                    },\r\n                    paramsSerializer: function (params) {\r\n                        console.log(params)\r\n                        // arrayFormat可以格式化数组参数\r\n                        return qs.stringify(params, {\r\n                            arrayFormat: 'brackets'\r\n                        })\r\n                    }\r\n                }).then(res => {\r\n                    this.qrCodeUrl=res.data.qrCode\r\n                    console.log(this.qrCodeUrl);\r\n\r\n                })\r\n                //     alert('信息录入成功!');\r\n                this.resetForm('formName')\r\n                // } else {\r\n                //     alert('信息录入失败!!');\r\n                //     return false;\r\n                // }\r\n                // });\r\n            },\r\n            resetForm(formName) {\r\n                this.$nextTick(() => {\r\n                    this.$refs[formName].resetFields();\r\n                })\r\n            },\r\n\r\n        },\r\n        created() {\r\n            this.loading();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .title {\r\n        width: 200px;\r\n        color: #255946;\r\n        margin-top: 20px;\r\n        margin-bottom: 20px;\r\n        text-align: left;\r\n        font-size: 24px;\r\n        font-weight: 700;\r\n    }\r\n</style>"]}]}